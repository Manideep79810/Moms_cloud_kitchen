<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Decision Hub ‚Äî Mom's Cloud Kitchen</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
  :root {
  --bg-deep: #3a2f41;
  --accent: #ff7043;
  --muted: #666;
  --white: #fff;
  --card: #fff;
  --radius: 14px;
  --gap: 20px;
  --shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
}

* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
  margin: 0;
  font-family: Inter, system-ui, Segoe UI, Roboto, Arial;
  background: linear-gradient(135deg, #fff6f2, #fff0e6);
  color: #222;
}

/* --- Accessibility utility --- */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0 0 0 0);
  white-space: nowrap;
  border: 0;
}
/* --- Skip Link --- */
.skip-link {
  display: inline-block;
  margin-right: 16px;
  padding: 8px 14px;
  background: var(--accent);
  color: #fff;
  font-weight: 600;
  text-decoration: none;
  border-radius: 6px;
  transition: background 0.2s ease, transform 0.2s ease;
}
.skip-link:hover {
  background: #ff5a28;
  transform: translateY(-2px);
}
.skip-link:focus {
  outline: 3px solid #ffcc99;
  outline-offset: 2px;
}

/* --- Topbar --- */
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 24px;
  background: linear-gradient(90deg, #fff0e6, #fff6f2);
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}
.logo {
  text-decoration: none;
  color: var(--bg-deep);
  font-weight: 700;
  font-size: 1.25rem;
}

/* --- Hub --- */
.hub {
  padding: 40px 20px;
  max-width: 1100px;
  margin: 0 auto;
}
.cards {
  display: grid;
  grid-template-columns: 1fr;
  gap: 24px;
}
.card {
  background: var(--card);
  border-radius: var(--radius);
  padding: 28px 24px;
  box-shadow: var(--shadow);
  cursor: pointer;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}
.card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 28px rgba(0,0,0,0.15);
}
.card:focus {
  outline: 3px solid #ffcc99;
  outline-offset: 2px;
}
.card h2 {
  margin: 0 0 12px;
  font-size: 1.5rem;
  color: var(--bg-deep);
}
.card p {
  margin: 0 0 14px;
  color: var(--muted);
}
.card-cta {
  font-weight: 700;
  color: var(--accent);
  margin-top: 10px;
  display: inline-block;
}

/* --- Responsive grid --- */
@media (min-width: 760px) {
  .cards { grid-template-columns: 1fr 1fr; }
}

/* --- Modal (auth) --- */
.modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  z-index: 1000;
  background: rgba(0,0,0,0.4);
}
.modal[aria-hidden="false"] {
  display: flex;
}
.modal-shell {
  background: var(--card);
  width: 100%;
  max-width: 980px;
  border-radius: var(--radius);
  box-shadow: 0 30px 80px rgba(0,0,0,0.25);
  overflow: auto;
  max-height: 92vh;
  animation: fadeInUp 0.3s ease;
}
.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px;
  border-bottom: 1px solid #eee;
}
.modal-header h2 { margin: 0; color: var(--bg-deep); }
.modal-close {
  background: none;
  border: 0;
  font-size: 20px;
  cursor: pointer;
}

/* --- Tabs --- */
.auth-tabs {
  display: flex;
  gap: 10px;
  padding: 12px 16px;
  border-bottom: 1px solid #f0f0f0;
}
.auth-tabs button {
  background: transparent;
  border-radius: 8px;
  padding: 8px 14px;
  border: 1px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}
.auth-tabs button[aria-selected="true"] {
  background: var(--accent);
  color: #fff;
  border-color: rgba(0,0,0,0.04);
}
.auth-tabs button:hover:not([aria-selected="true"]) {
  background: #fff5f2;
}

/* --- Panels --- */
.auth-panel {
  padding: 20px 24px;
}
.auth-panel label {
  display: block;
  font-weight: 600;
  margin-top: 14px;
  color: var(--bg-deep);
}
.auth-panel input[type="text"],
.auth-panel input[type="email"],
.auth-panel input[type="tel"],
.auth-panel input[type="number"],
.auth-panel textarea {
  width: 100%;
  padding: 12px 14px;
  border-radius: 8px;
  border: 1px solid #ddd;
  margin-top: 6px;
  font-size: 1rem;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.auth-panel input:focus,
.auth-panel textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(255,112,67,0.2);
}
.auth-panel .hint {
  color: var(--muted);
  font-size: .9rem;
  margin-top: 4px;
}
.form-actions {
  margin-top: 16px;
  display: flex;
  gap: 12px;
  align-items: center;
}

/* --- Wizard steps --- */
.wizard-step {
  padding: 14px 0;
  border-top: 1px dashed #f0f0f0;
}
.wizard-controls {
  display: flex;
  gap: 10px;
  margin-top: 16px;
  justify-content: flex-end;
}
.btn {
  background: var(--accent);
  color: #fff;
  border: 0;
  padding: 12px 18px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.2s ease;
}
.btn:hover { background: #ff5a28; }
.btn--secondary {
  background: #f3f3f3;
  color: #333;
  border: 1px solid #ddd;
}
.btn--secondary:hover { background: #e9e9e9; }

/* --- Dish card --- */
.dish-card {
  border: 1px dashed #e6e6e6;
  padding: 14px;
  border-radius: 10px;
  margin-top: 14px;
  background: #fff;
}
/* --- Top Navigation Links --- */
.topnav ul {
  list-style: none;
  display: flex;
  gap: 20px;
  margin: 0;
  padding: 0;
}

.topnav a {
  text-decoration: none;
  color: var(--bg-deep);
  font-weight: 600;
  font-size: 0.95rem;
  padding: 6px 10px;
  border-radius: 6px;
  transition: color 0.25s ease, background 0.25s ease;
}

.topnav a:hover,
.topnav a:focus {
  background: var(--accent);
  color: var(--white);
}
/* --- Skip link (accessibility) --- */


.dish-actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

/* --- Small helpers --- */
.hint { color: var(--muted); font-size: .9rem; }
.muted { color: var(--muted); font-size: .9rem; padding: 12px; }
.placeholder {
  margin: 28px auto;
  padding: 24px;
  background: #fdfdfd;
  border-radius: 12px;
  max-width: 900px;
  box-shadow: var(--shadow);
}

/* --- Animations --- */
@keyframes fadeInUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

/* --- Focus states --- */
:where(a,button,input,textarea):focus-visible {
  outline: 3px solid #ffcc99;
  outline-offset: 2px;
  border-radius: 6px;
}
</style>
</head>
<body>
  <a class="skip-link" href="index.html">Skip to main hub</a>

  <header class="topbar" role="banner">
    <div class="brand">
      <a href="index.html" class="logo" aria-label="Mom's Cloud Kitchen home">üç≤ Mom's Cloud Kitchen</a>
    </div>
    <nav aria-label="Top" class="topnav">
      <ul>
        <li><a href="#about">About</a></li>
        <li><a href="#help">Help &amp; Support</a></li>
      </ul>
    </nav>
  </header>

  <main id="hub" class="hub" role="main">
    <h1 class="visually-hidden">Decision Hub ‚Äî Join or Order</h1>

    <section class="cards" aria-label="Choose your path">
      <article class="card card--mom" tabindex="0" role="button" aria-pressed="false" data-action="start-mom">
        <div class="card-inner">
          <h2>Be a Mom‚Äôs Cloud Kitchen</h2>
          <p>Turn your home-cooking into income. Guided onboarding, menu builder, capacity controls & signature dish area.</p>
          <p class="card-meta">Multi-step sign-up ‚Ä¢ Add dishes ‚Ä¢ Set hours</p>
          <div class="card-cta">I'm a Mom ‚Üí</div>
        </div>
      </article>

      <article class="card card--customer" tabindex="0" role="button" aria-pressed="false" data-action="start-customer">
        <div class="card-inner">
          <h2>Be a Customer</h2>
          <p>Quick signup, save address, find local mom kitchens, favorites & reorder.</p>
          <p class="card-meta">Fast signup ‚Ä¢ Address autocomplete ‚Ä¢ Place order</p>
          <div class="card-cta">I'm a Customer ‚Üí</div>
        </div>
      </article>
    </section>

    <section class="info">
      <h3>Why join?</h3>
      <ul>
        <li>Moms: flexible income, community, tools to manage orders</li>
        <li>Customers: fresh, homestyle meals with trustworthy prep</li>
      </ul>
    </section>
  </main>

  <!-- Unified Auth / Onboarding Modal (accessible) -->
  <div id="authModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="authTitle">
    <div class="modal-shell" role="document">
      <header class="modal-header">
        <h2 id="authTitle">Get started</h2>
        <button class="modal-close" aria-label="Close">‚úï</button>
      </header>

      <nav class="auth-tabs" role="tablist" aria-label="Auth role switch">
        <button role="tab" aria-selected="true" aria-controls="customerPanel" id="tabCustomer" data-role="customer">Customer</button>
        <button role="tab" aria-selected="false" aria-controls="momPanel" id="tabMom" data-role="mom">Mom / Kitchen</button>
      </nav>

      <section id="customerPanel" class="auth-panel" role="tabpanel" aria-labelledby="tabCustomer">
        <form id="customerForm" novalidate autocomplete="on">
          <p class="hint">Quick sign-up. We'll send an OTP to verify your phone.</p>

          <label for="custName">Full name</label>
          <input id="custName" name="name" type="text" required />

          <label for="custPhone">Phone (preferred)</label>
          <input id="custPhone" name="phone" inputmode="tel" type="tel" placeholder="+91 9XXXXXXXXX" required />

          <label for="custEmail">Email (optional)</label>
          <input id="custEmail" name="email" type="email" />

          <label for="custAddress">Default address</label>
          <input id="custAddress" name="address" type="text" placeholder="Start typing address..." />

          <div class="form-actions">
            <button type="button" class="btn" id="custSendOtp">Send OTP</button>
            <button type="button" class="btn btn--secondary" id="custSocial">Sign in with Google</button>
          </div>

          <div id="custOtpBlock" class="otp-block" aria-hidden="true">
            <label for="custOtp">Enter OTP</label>
            <input id="custOtp" name="otp" type="text" inputmode="numeric" maxlength="6" />
            <button type="button" class="btn" id="custVerifyOtp">Verify</button>
          </div>

          <p class="muted">By continuing you agree to our Terms & Privacy (placeholder).</p>
        </form>
      </section>

      <section id="momPanel" class="auth-panel" role="tabpanel" aria-labelledby="tabMom" hidden>
        <!-- Multi-step wizard -->
        <div id="momWizard">
          <div class="wizard-step" data-step="1" aria-hidden="false">
            <h3>1 ‚Äî Personal</h3>
            <label for="momName">Full name</label>
            <input id="momName" name="momName" type="text" required>

            <label for="momAge">Age</label>
            <input id="momAge" name="momAge" type="number" min="18" max="100" required>

            <div class="wizard-controls">
              <button type="button" class="btn" data-action="next">Next</button>
            </div>
          </div>

          <div class="wizard-step" data-step="2" aria-hidden="true">
            <h3>2 ‚Äî Kitchen profile</h3>
            <label for="kitchenName">Kitchen / Display name</label>
            <input id="kitchenName" name="kitchenName" type="text" required>

            <label for="cuisineTags">Cuisine / specialties (comma separated)</label>
            <input id="cuisineTags" name="cuisineTags" type="text" placeholder="e.g., South Indian, Snacks, Sweets">

            <label for="holiday">Holiday closures (dates or weekdays)</label>
            <input id="holiday" name="holiday" type="text" placeholder="e.g., Sun, 2025-12-25">

            <div class="wizard-controls">
              <button type="button" class="btn btn--secondary" data-action="prev">Previous</button>
              <button type="button" class="btn" data-action="next">Next</button>
            </div>
          </div>

          <div class="wizard-step" data-step="3" aria-hidden="true">
            <h3>3 ‚Äî Hours & Capacity</h3>
            <label>Operating hours</label>
            <div class="row">
              <input name="openTime" type="time" aria-label="Open time">
              <span>to</span>
              <input name="closeTime" type="time" aria-label="Close time">
            </div>

            <label for="radius">Delivery radius (km)</label>
            <input id="radius" name="radius" type="number" min="1" max="20" value="3">

            <label for="capacity">Max concurrent orders</label>
            <input id="capacity" name="capacity" type="number" min="1" max="100" value="10">

            <div class="wizard-controls">
              <button type="button" class="btn btn--secondary" data-action="prev">Previous</button>
              <button type="button" class="btn" data-action="next">Next</button>
            </div>
          </div>

          <div class="wizard-step" data-step="4" aria-hidden="true">
            <h3>4 ‚Äî Add dishes</h3>
            <p class="hint">Add signature & regular dishes. Use the "Add Dish" button to add multiple items.</p>
            <div id="dishesList" aria-live="polite"></div>
            <button type="button" class="btn" id="addDishBtn">Add Dish</button>

            <template id="dishTemplate">
              <div class="dish-card">
                <label>Dish name <input name="dishName" type="text" required></label>
                <label>Photo <input name="dishPhoto" type="file" accept="image/*"></label>
                <label>Description <textarea name="dishDesc" rows="2"></textarea></label>
                <label>Price <input name="dishPrice" type="number" step="0.01"></label>
                <label>Prep time (mins) <input name="dishPrep" type="number"></label>
                <label>Dietary badges (comma separated)</label>
                <input name="dishBadges" type="text" placeholder="e.g., veg, gluten-free">
                <label>Stock / available <input name="dishStock" type="number" min="0" value="10"></label>

                <div class="dish-actions">
                  <button type="button" class="btn btn--secondary" data-action="remove-dish">Remove</button>
                </div>
              </div>
            </template>

            <div class="wizard-controls">
              <button type="button" class="btn btn--secondary" data-action="prev">Previous</button>
              <button type="button" class="btn" data-action="next">Next</button>
            </div>
          </div>

          <div class="wizard-step" data-step="5" aria-hidden="true">
            <h3>5 ‚Äî Review & Submit</h3>
            <div id="wizardReview" aria-live="polite"></div>
            <div class="wizard-controls">
              <button type="button" class="btn btn--secondary" data-action="prev">Previous</button>
              <button type="button" class="btn" id="submitMom">Submit & Create Kitchen</button>
            </div>
          </div>
        </div>
      </section>

      <footer class="modal-foot">
        <small class="muted">We‚Äôll ask you to verify identity via OTP. Data submitted securely (placeholder).</small>
      </footer>
    </div>
  </div>

 <script>

document.addEventListener('DOMContentLoaded', () => {
  // ------------------------------
  // Elements
  // ------------------------------
  const modal = document.getElementById('authModal');
  const modalShell = modal?.querySelector('.modal-shell');
  const modalClose = modal?.querySelector('.modal-close');
  const tabs = Array.from(document.querySelectorAll('.auth-tabs [role="tab"]'));
  const actionEls = document.querySelectorAll('[data-action^="start"]');

  // ------------------------------
  // Modal open/close
  // ------------------------------
  function openModal(role) {
    if (!modal) return;
    modal.setAttribute('aria-hidden', 'false');
    modal.style.display = 'flex';
    const tab = tabs.find(t => t.dataset.role === role) || tabs[0];
    activateTab(tab);
    modalShell?.focus();
  }
  function closeModal() {
    if (!modal) return;
    modal.setAttribute('aria-hidden', 'true');
    modal.style.display = 'none';
  }

  actionEls.forEach(el => {
    el.addEventListener('click', () => {
      const role = el.dataset.action === 'start-mom' ? 'mom' : 'customer';
      openModal(role);
    });
    el.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        el.click();
      }
    });
  });

  modalClose?.addEventListener('click', closeModal);

  // ------------------------------
  // Tabs
  // ------------------------------
  function activateTab(tab) {
    tabs.forEach(t => {
      const sel = t === tab;
      t.setAttribute('aria-selected', sel ? 'true' : 'false');
      const panelId = t.getAttribute('aria-controls');
      const panel = document.getElementById(panelId);
      if (panel) panel.hidden = !sel;
    });
  }
  tabs.forEach(tab => {
    tab.addEventListener('click', () => activateTab(tab));
  });

  // ------------------------------
  // CUSTOMER OTP mock
  // ------------------------------
  const custSendOtp = document.getElementById('custSendOtp');
  const custOtpBlock = document.getElementById('custOtpBlock');
  const custVerifyOtp = document.getElementById('custVerifyOtp');

  if (custSendOtp) {
    custSendOtp.addEventListener('click', () => {
      custOtpBlock?.removeAttribute('aria-hidden');
      custOtpBlock.style.display = 'block';
      custSendOtp.disabled = true;
      alert('OTP sent (mock). Enter 123456 to verify.');
    });
  }

  if (custVerifyOtp) {
    custVerifyOtp.addEventListener('click', () => {
      const otpInput = document.getElementById('custOtp');
      if (otpInput.value.trim() === '123456') {
        alert('Phone verified (mock). Redirecting to customer dashboard.');
        window.location.href = 'dashboard.html'; // customer dashboard
      } else {
        alert('Invalid OTP (mock). Try 123456');
      }
    });
  }

  // ------------------------------
  // MOM WIZARD
  // ------------------------------
  const wizard = document.getElementById('momWizard');
  if (wizard) {
    let step = 1;
    const steps = Array.from(wizard.querySelectorAll('.wizard-step'));

    const gotoStep = (s) => {
      step = s;
      steps.forEach(st => {
        st.dataset.step === String(s)
          ? st.setAttribute('aria-hidden', 'false')
          : st.setAttribute('aria-hidden', 'true');
        st.style.display = st.dataset.step === String(s) ? 'block' : 'none';
      });
      window.scrollTo({ top: 0, behavior: 'smooth' });
    };
    gotoStep(1);

    wizard.addEventListener('click', (e) => {
      const btn = e.target.closest('button');
      if (!btn) return;
      const action = btn.dataset.action;
      if (action === 'next') gotoStep(Math.min(steps.length, step + 1));
      if (action === 'prev') gotoStep(Math.max(1, step - 1));
    });

    // ------------------------------
    // Add Dish flow
    // ------------------------------
    const addDishBtn = document.getElementById('addDishBtn');
    const dishesList = document.getElementById('dishesList');
    const dishTemplate = document.getElementById('dishTemplate');

    function createDishNode() {
      const frag = dishTemplate.content.cloneNode(true);
      const node = frag.querySelector('.dish-card');

      // Remove dish
      node.querySelector('[data-action="remove-dish"]').addEventListener('click', () => {
        node.remove();
      });

      // Image preview
      const fileInput = node.querySelector('input[type="file"]');
      fileInput.addEventListener('change', (ev) => {
        const file = ev.target.files[0];
        if (!file) return;
        const img = document.createElement('img');
        img.style.maxWidth = '120px';
        img.style.display = 'block';
        img.style.marginTop = '8px';
        node.appendChild(img);
        const reader = new FileReader();
        reader.onload = () => (img.src = reader.result);
        reader.readAsDataURL(file);
      });

      return node;
    }

    addDishBtn?.addEventListener('click', () => {
      const newDish = createDishNode();
      dishesList.appendChild(newDish);
    });

    // ------------------------------
    // Submit Mom Registration
    // ------------------------------
    document.getElementById('submitMom')?.addEventListener('click', () => {
      const data = {
        name: document.getElementById('momName').value,
        age: document.getElementById('momAge').value,
        kitchenName: document.getElementById('kitchenName').value,
        cuisineTags: document.getElementById('cuisineTags').value,
        hours: {
          open: wizard.querySelector('[name="openTime"]').value,
          close: wizard.querySelector('[name="closeTime"]').value,
        },
        radius: document.getElementById('radius').value,
        capacity: document.getElementById('capacity').value,
        dishes: [],
      };

      // collect dishes
      dishesList.querySelectorAll('.dish-card').forEach(card => {
        const dish = {
          name: card.querySelector('[name="dishName"]').value,
          desc: card.querySelector('[name="dishDesc"]').value,
          price: card.querySelector('[name="dishPrice"]').value,
          prep: card.querySelector('[name="dishPrep"]').value,
          badges: card.querySelector('[name="dishBadges"]').value,
          stock: card.querySelector('[name="dishStock"]').value,
        };
        data.dishes.push(dish);
      });

      // Save mom data in localStorage
      localStorage.setItem("momData", JSON.stringify(data));

      alert('Mom registration submitted (mock). Redirecting to mom dashboard.');
      window.location.href = 'momdb.html'; // mom dashboard
    });
  }

  // ------------------------------
  // Close modal on Escape
  // ------------------------------
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal?.getAttribute('aria-hidden') === 'false') {
      closeModal();
    }
  });
});


 </script>
</body>
</html>
